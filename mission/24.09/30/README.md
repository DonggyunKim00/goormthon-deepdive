## 1ï¸âƒ£Â ë™ê¸° vs ë¹„ë™ê¸°

- **ë™ê¸° ì²˜ë¦¬**
- íƒœìŠ¤í¬(í•¨ìˆ˜)ë¥¼ ìˆœì„œëŒ€ë¡œ í•˜ë‚˜ì”© ì²˜ë¦¬í•˜ëŠ” ë°©ì‹
- ì‹¤í–‰ ìˆœì„œê°€ ë³´ì¥ ë¨
- ì•ì„  íƒœìŠ¤í¬(í•¨ìˆ˜)ê°€ ì¢…ë£Œí•  ë•Œ ê¹Œì§€ ì´í›„ íƒœìŠ¤í¬(í•¨ìˆ˜)ë“¤ì´ ë¸”ë¡œí‚¹ ë˜ëŠ” ë‹¨ì ì´ ìˆìŒ
  ```jsx
  function sleep(func, delay) {
    const delayUntil = Date.now() + delay;

    while (Date.now() < delayUntil);

    // delay ë§Œí¼ ì‹œê°„ì´ ì§€ë‚œ ì´í›„ì— ì¸ìë¡œ ë°›ì€ ì½œë°± í•¨ìˆ˜ funcë¥¼ í˜¸ì¶œ
    func();
  }

  function foo() {
    console.log('foo');
  }

  function bar() {
    console.log('bar');
  }

  sleep(foo, 3 * 1000); // 3ì´ˆ ì´ìƒ ê±¸ë¦¬ëŠ” ì‘ì—…
  bar(); // sleep í•¨ìˆ˜ì˜ ì‹¤í–‰ì´ ì¢…ë£Œëœ ì´í›„ì— í˜¸ì¶œ(3ì´ˆ ì´ìƒ ë¸”ë¡œí‚¹ ë¨)

  // ì¶œë ¥
  // (3ì´ˆ ë’¤)
  // foo
  // bar
  ```
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-30 á„‹á…©á„’á…® 1.43.15.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/b8509b13-708e-46b1-92da-a31667b3b645/df053458-d03b-42cc-8318-2a467ef3ba41/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_1.43.15.png)
- **ë¹„ë™ê¸° ì²˜ë¦¬**
- í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ íƒœìŠ¤í¬(í•¨ìˆ˜)ê°€ ì¢…ë£Œë˜ì§€ ì•Šì€ ìƒíƒœë¼ í•´ë„ ë‹¤ìŒ íƒœìŠ¤í¬(í•¨ìˆ˜)ë¥¼ ê³§ë°”ë¡œ ì‹¤í–‰í•˜ëŠ” ë°©ì‹
- ì‹¤í–‰ ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠëŠ” ë‹¨ì ì´ ìˆìŒ
  ```jsx
  function foo() {
    console.log('foo');
  }

  function bar() {
    console.log('bar');
  }

  // setTimeoutì€ ì¼ì • ì‹œê°„ì´ ê²½ê³¼í•œ ì´í›„ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
  // setTimeoutì€ bar í•¨ìˆ˜ë¥¼ ë¸”ë¡œí‚¹ í•˜ì§€ ì•ŠëŠ”ë‹¤!
  setTimeout(foo, 3 * 1000);
  bar();

  // ì¶œë ¥
  // bar
  // (3ì´ˆ ë’¤)
  // foo
  ```
  ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-30 á„‹á…©á„’á…® 1.43.26.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/b8509b13-708e-46b1-92da-a31667b3b645/90943d22-faeb-4907-ac50-764631ed7d8b/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_1.43.26.png)

## 2ï¸âƒ£Â ì´ë²¤íŠ¸ ë£¨í”„, íƒœìŠ¤í¬ í

```abap
ğŸ’¡ **ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŠ¹ì§•** ğŸ’¡

- **ì‹±ê¸€ ìŠ¤ë ˆë“œ**ë¡œ ë™ì‘í•¨
	- í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì°½êµ¬ê°€ ë‹¨ í•˜ë‚˜
	- ë‹¨ í•˜ë‚˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìŠ¤íƒì„ ê°–ìŒ
	- ë”°ë¼ì„œ ì‹¤í–‰ì¤‘ì¸ í•¨ìˆ˜ê°€ ì¢…ë£Œ(pop)ë˜ë©´ ë‹¤ìŒ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì‹¤í–‰
	- ì²˜ë¦¬ì— ì‹œê°„ì´ ê±¸ë¦¬ëŠ” íƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ë¸”ë¡œí‚¹ í˜„ìƒì´ ë°œìƒ
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-30 á„‹á…©á„’á…® 1.58.07.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/b8509b13-708e-46b1-92da-a31667b3b645/a0526f5b-7ca3-4ae1-b746-6eab744304a4/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_1.58.07.png)

- ìœ„ì˜ ê·¸ë¦¼ì„ ë´¤ì„ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í¬ê²Œ (í™, ì½œìŠ¤íƒ)ë‘ê°€ì§€ ì˜ì—­ìœ¼ë¡œ ë‚˜ë‰œë‹¤.

```abap
â“ ì½œ ìŠ¤íƒ â“
	- ì†ŒìŠ¤ì½”ë“œ í‰ê°€ ê³¼ì •ì—ì„œ ìƒì„±ëœ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¶”ê°€ë˜ê³  ì œê±°ë˜ëŠ” ìŠ¤íƒ ìë£Œêµ¬ì¡°ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒ
	- í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì½œ ìŠ¤íƒì— push ë˜ì–´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë¨
	- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì½œ ìŠ¤íƒì„ ì‚¬ìš©(ì‹±ê¸€ ìŠ¤ë ˆë“œ)
	- ë”°ë¼ì„œ ìµœìƒìœ„ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(ì‹¤í–‰ ì¤‘ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸)ê°€ ì¢…ë£Œë˜ì–´ ì½œìŠ¤íƒì—ì„œ ì œê±°ë˜ê¸° ì „ê¹Œì§€ ë‹¤ë¥¸
		ì–´ë–¤ íƒœìŠ¤í¬ë„ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

â“ í™ â“
	- ê°ì²´ê°€ ì €ì¥ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„
	- ì½œ ìŠ¤íƒì˜ ìš”ì†Œì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” í™ì— ì €ì¥ëœ ê°ì²´ë¥¼ ì°¸ì¡°í•œë‹¤
	- ë©”ëª¨ë¦¬ì— ê°’ì„ ì €ì¥í•˜ë ¤ë©´ ì €ì¥í•  ë©”ëª¨ë¦¬ ê³µê°„ì˜ í¬ê¸°ë¥¼ ê²°ì •í•´ì•¼ í•˜ëŠ”ë°, ê°ì²´ëŠ” ì›ì‹œ ê°’ê³¼ ë‹¤ë¥´ê²Œ í¬ê¸°ê°€
		ì •í•´ì ¸ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ í• ë‹¹í•´ì•¼í•  ë©”ëª¨ë¦¬ ê³µê°„ì˜ í¬ê¸°ë¥¼ ëŸ°íƒ€ì„ì— ë™ì  í• ë‹¹ í•´ì•¼í•¨
	- ë”°ë¼ì„œ ê°ì²´ê°€ ì €ì¥ë˜ëŠ” ë©”ëª¨ë¦¬ ê³µê°„ì¸ í™ì€ êµ¬ì¡°í™” ë˜ì–´ìˆì§€ ì•Šë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìŒ
```

- í™ê³¼ ì½œìŠ¤íƒìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ë‹¨ìˆœíˆ íƒœìŠ¤í¬ê°€ ìš”ì²­ë˜ë©´ ì½œ ìŠ¤íƒì„ í†µí•´ ìš”ì²­ëœ ì‘ì—…ì„ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•  ë¿ì´ë‹¤.
- í•˜ì§€ë§Œ ì‹±ê¸€ ìŠ¤ë ˆë“œì—ì„œ ë¹„ë™ê¸°ê°€ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì´ìœ 
  - Node.js ê°€ í˜¸ì¶œ ìŠ¤ì¼€ì¤„ë§, íƒ€ì´ë¨¸ ì„¤ì •, ì½œë°± í•¨ìˆ˜ì˜ ë“±ë¡ì„ ë‹´ë‹¹í•˜ê³ 
  - ì´ë¥¼ ìœ„í•´ **ë¸Œë¼ìš°ì €**ì—ì„œ **íƒœìŠ¤í¬ í**ì™€ **ì´ë²¤íŠ¸ ë£¨í”„**ë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì´ë‹¤!
  - **ë¸Œë¼ìš°ì €ëŠ” ë©€í‹° ìŠ¤ë ˆë“œ**ë¡œ ë™ì‘í•˜ë©°, Web APIë¥¼ ì œê³µí•¨

```abap
â“ íƒœìŠ¤í¬ í(ì´ë²¤íŠ¸ í, ì½œë°± í) â“
	- setTimeout, setIntervalê³¼ ê°™ì€ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°±í•¨ìˆ˜ ë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ì¼ì‹œì ìœ¼ë¡œ ë³´ê´€
		ë˜ëŠ” ì˜ì—­

â“ ì´ë²¤íŠ¸ ë£¨í”„ â“
	- ì½œ ìŠ¤íƒì— í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìˆëŠ”ì§€, íƒœìŠ¤í¬ íì— ëŒ€ê¸°ì¤‘ì¸ í•¨ìˆ˜ê°€ ìˆëŠ”ì§€ ë°˜ë³µí•´ì„œ í™•ì¸
	- ë§Œì•½ **ì½œìŠ¤íƒì´ ë¹„ì–´ìˆê³  íƒœìŠ¤í¬ íì— ëŒ€ê¸°ì¤‘ì¸ í•¨ìˆ˜ê°€ ìˆë‹¤ë©´** ì´ë²¤íŠ¸ ë£¨í”„ëŠ” **FIFOë¡œ íƒœìŠ¤í¬ íì— ëŒ€ê¸°
		ì¤‘ì¸ í•¨ìˆ˜ë¥¼ ì½œ ìŠ¤íƒìœ¼ë¡œ ì´ë™**ì‹œí‚´!

â“ Web API â“
	- ECMAScript ì‚¬ì–‘ì— ì •ì˜ëœ í•¨ìˆ˜ê°€ ì•„ë‹Œ ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” API
	- DOM API, íƒ€ì´ë¨¸ í•¨ìˆ˜, HTTP ìš”ì²­(Ajax) ì™€ ê°™ì€ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í¬í•¨
	- setTimeout ì—ì„œ **ì½œë°± í•¨ìˆ˜ë¥¼ íƒœìŠ¤í¬íì— ë“±ë¡í•˜ëŠ” ì²˜ë¦¬**ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ì•„ë‹Œ **ë¸Œë¼ìš°ì €ê°€ ì‹¤í–‰**
```

```jsx
function foo() {
  console.log('foo');
}

function bar() {
  console.log('bar');
}

setTimeout(foo, 0);
bar();

// ë™ì‘ ë°©ì‹
// 1. ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„± => ì½œìŠ¤íƒ push
// 2. setTimeout í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„± => ì½œìŠ¤íƒ push => í˜„ì¬ ì‹¤í–‰ ì¤‘
// 3. ë¸Œë¼ìš°ì € ìˆ˜í–‰, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ìˆ˜í–‰ ë³‘ë ¬ ì²˜ë¦¬
//   3-1. ë¸Œë¼ìš°ì € ìˆ˜í–‰: íƒ€ì´ë¨¸ê°€ ë§Œë£Œë˜ì—ˆì„ë•Œ ì½œë°±í•¨ìˆ˜ fooë¥¼ íƒœìŠ¤í¬ íì— push
//   3-2. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ ìˆ˜í–‰: bar í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„± => ì½œìŠ¤íƒ push => ì¢…ë£Œ ì‹œ ì½œìŠ¤íƒ pop
// 4. ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ì½œìŠ¤íƒ pop => ì½œìŠ¤íƒì´ ë¹„ì–´ìˆëŠ” ìƒíƒœê°€ ë¨
// 5. ì´ë²¤íŠ¸ ë£¨í”„ì— ì˜í•´ ì½œìŠ¤íƒì´ ë¹„ì–´ìˆìŒì„ ê°ì§€í•˜ê³  íƒœìŠ¤í¬ íì— ëŒ€ê¸°í•˜ë˜ foo í•¨ìˆ˜ë¥¼ ì½œìŠ¤íƒì— push
// 6. foo í•¨ìˆ˜ ì¢…ë£Œì‹œ foo í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì½œìŠ¤íƒì—ì„œ pop
```

## 3ï¸âƒ£Â ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ë²•

### ğŸ“ŒÂ 1. Callback

- ì½œë°±ìœ¼ë¡œ ë‹¤ë¥¸ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¡œ í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ì–´ ë‚˜ì¤‘ì— í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§í•˜ëŠ”ë° ë¹„ë™ê¸° ì²˜ë¦¬ì— ìˆì–´ì„œ ê³¼ê±°ì— ìì£¼ ì‚¬ìš©í•´ì˜¤ë˜ ë°©ë²•ì´ë‹¤.
- í•˜ì§€ë§Œ ì½œë°± í•¨ìˆ˜ëŠ” ì•„ë˜ ë‘ê°€ì§€ì˜ ë‹¨ì ì„ ê°€ì§€ê³  ìˆë‹¤.

1. **ì½œë°± í—¬**
   - ì½œë°± í—¬ì€ ê°€ë…ì„±ì„ ë‚˜ì˜ê²Œí•˜ë©° ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•˜ëŠ” ì›ì¸ì´ ëœë‹¤.

```jsx
// GET ìš”ì²­ì„ í†µí•´ ì„œë²„ë¡œ ë¶€í„° ì‘ë‹µì„ ì·¨ë“í•˜ê³  í•´ë‹¹ ë°ì´í„°ë¥¼ ì´ìš©í•´ ë˜ë‹¤ì‹œ GET ìš”ì²­ì„ í•˜ëŠ” ì˜ˆì œ

get(`${url}`/posts/1`, ({userId}) => {
	console.log(userId); // 1

	// postì˜ userIdë¥¼ ì´ìš©í•˜ì—¬ user ì •ë³´ë¥¼ ì·¨ë“
	get(`${url}/users/${userId}`, userInfo => {
		console.log(userInfo);
	})
}

// ì½œë°± í—¬
get('/step1', a => {
	get('/step2/${a}', b => {
		get('/step3/${b}', c => {
			get('/step4/${c}', d => {
				console.log(d)
			});
		});
	});
});
```

1. **ì—ëŸ¬ ì²˜ë¦¬ì˜ í•œê³„**
   - ì½œë°±í•¨ìˆ˜ ë‚´ì—ì„œ 1ì´ˆë’¤ì— ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ì½œë°±í•¨ìˆ˜ë¥¼ ì‘ì„±í–ˆëŠ”ë° ì—ëŸ¬ê°€ ì¡íˆì§€ ì•ŠëŠ”ë‹¤?
     - `setTimeout` ì€ ë¹„ë™ê¸° í•¨ìˆ˜ ì´ê¸°ë•Œë¬¸ì— **ë‚´ë¶€ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ëŠ”** í˜¸ì¶œ ì‹œì ì˜ `tryâ€¦catch` ë¸”ë¡ì´ ì•„ë‹Œ **ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ ë£¨í”„ì—ì„œ ì²˜ë¦¬ëœë‹¤.**
     - `setTimeout`ì€ ì´ë¯¸ `tryâ€¦catch` ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë²—ì–´ë‚˜ê²Œ ëœê²ƒ
     - **ì—ëŸ¬ëŠ” í˜¸ì¶œì ë°©í–¥ìœ¼ë¡œ ì „íŒŒëœë‹¤!!**

```jsx
try {
  setTimeout(() => {
    throw new Error('Error!');
  }, 1000);
} catch (e) {
  // ì—ëŸ¬ ìºì¹˜ âŒ
  console.error('ìºì¹˜í•œ ì—ëŸ¬', e);
}
```

### ğŸ“ŒÂ 2. Promise

- ES6 ì—ì„œ ë„ì…ëœ ë¬¸ë²•(í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´)
- **ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœì™€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´**
- `Promise` ìƒì„±ì í•¨ìˆ˜ë¥¼ `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ë©´ í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ìƒì„±í•¨

```jsx
const promise = new Promise((resolve, reject) => {
	// Promise í•¨ìˆ˜ì˜ ì½œë°±í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ ìˆ˜í–‰
	if(/* ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ */){
		resolve('reulst');
	} else {
		reject('fail');
	}
});
```

```abap
ğŸ’¡ í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœ ğŸ’¡

- **pending**: ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•Šì€ ìƒíƒœ
	- ìƒíƒœ ë³€ê²½ ì¡°ê±´ => í”„ë¡œë¯¸ìŠ¤ê°€ ìƒì„±ëœ ì§í›„ ê¸°ë³¸ ìƒíƒœ

- **fulfilled**: ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ(ì„±ê³µ)
	- ìƒíƒœ ë³€ê²½ ì¡°ê±´ => resolve í•¨ìˆ˜ í˜¸ì¶œ

- **rejected**: ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ(ì‹¤íŒ¨)
	- ìƒíƒœ ë³€ê²½ ì¡°ê±´ => reject í•¨ìˆ˜ í˜¸ì¶œ
```

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-30 á„‹á…©á„’á…® 3.19.33.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/b8509b13-708e-46b1-92da-a31667b3b645/1110c8c0-61ca-4c63-a769-24efeff2a774/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-09-30_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_3.19.33.png)

- **í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ**
  - `then` : í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë©´ í”„ë¡œë¯¸ìŠ¤ ê·¸ëŒ€ë¡œ, ê°’ì„ ë°˜í™˜í•˜ë©´ ê·¸ê°’ì„ ì•”ë¬µì ìœ¼ë¡œ resolve ë˜ëŠ” reject í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜
  - `catch` : í”„ë¡œë¯¸ìŠ¤ê°€ rejected ìƒíƒœì¸ ê²½ìš°ë§Œ í˜¸ì¶œë¨, thenê³¼ ë™ì¼í•˜ê²Œ ë™ì‘
  - `finally` : í”„ë¡œë¯¸ìŠ¤ì˜ ì„±ê³µ ë˜ëŠ” ì‹¤íŒ¨ì˜ ì—¬ë¶€ì™€ ê´€ê³„ì—†ì´ ë¬´ì¡°ê±´ í•œ ë²ˆ í˜¸ì¶œ, then, catchì™€ ë™ì¼í•˜ê²Œ ë™ì‘

```jsx
// Promise.prototype.then
// ì„±ê³µ
new Promise((resolve) => resolve('fulfilled')).then(
  (v) => console.log(v),
  (e) => console.error(e)
); // fulfilled

// ì‹¤íŒ¨
new Promise((_, resolve) => reject(new Error('fulfilled'))).then(
  (v) => console.log(v),
  (e) => console.error(e)
); // Error: rejected

// Promise.prototype.catch
new Promise((_, reject) => reject(new Error('rejected'))).catch((e) =>
  console.log(e)
); // Error: rejected

// Promise.prototype.finally
new Promise(() => {}).finally(() => console.log('finally')); // finally
```

- **í”„ë¡œë¯¸ìŠ¤ì˜ ìœ ìš©í•œ ì •ì  ë©”ì„œë“œ**
  - `Promise.all`
  ```jsx
  // ëª¨ë“  ë¹„ë™ê¸° ì‘ì—…ì´ ëë‚œ í›„ì— í•œë²ˆì— ê°€ì ¸ì˜´

  const promise1 = Promise.resolve(3);
  const promise2 = 42;
  const promise3 = new Promise((resolve, reject) =>
    setTimeout(resolve, 3000, 'foo')
  );
  // const promise4 = new Promise.reject('ì‹¤íŒ¨');

  Promise.all([promise1, promise2, promise3]).then((value) =>
    console.log(value)
  );
  ```
  - `Promise.race`
  ```jsx
  // ê°€ì¥ ë¨¼ì € ì™„ë£Œëœ ë¹„ë™ê¸° ì²˜ë¦¬ë§Œ ì²˜ë¦¬í•¨!

  const pro1 = new Promise((resolve, reject) =>
    setTimeout(resolve, 500, 'one')
  );
  const pro2 = new Promise((resolve, reject) =>
    setTimeout(resolve, 100, 'two')
  );
  Promise.race([pro1, pro2]).then((value) => console.log(value));
  ```

### ğŸ“ŒÂ 3. async / await

- ES8 ì—ì„œ ë„ì…ëœ ë¬¸ë²•
- í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ë©”ì„œë“œ ì—†ì´ ë§ˆì¹˜ **ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ê°€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„** ê°€ëŠ¥
- í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘
- **`async` í•¨ìˆ˜**
  - `await` í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ `async` í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš© í•´ì•¼í•¨!
  ```jsx
  // async í•¨ìˆ˜ëŠ” ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ê°’ì„ resolve í•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

  // async í•¨ìˆ˜ ì„ ì–¸ë¬¸
  async function foo(n) {
    return n;
  }
  foo(1).then((v) => console.log(v)); // 1

  // async í™”ì‚´í‘œ í•¨ìˆ˜
  const baz = async (n) => n;
  baz(3).then((v) => console.log(v)); // 3
  ```
- **`await` í‚¤ì›Œë“œ**
  - í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœ(ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ)ê°€ ë ë•Œ ê¹Œì§€ ëŒ€ê¸°í•˜ë‹¤ê°€ **settled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€ resolve í•œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜**
  - `await` í‚¤ì›Œë“œëŠ” **ë°˜ë“œì‹œ í”„ë¡œë¯¸ìŠ¤ ì•ì—ì„œ ì‚¬ìš©**í•´ì•¼ í•œë‹¤!
  ```jsx
  async function foo(){
  	const res = await Promise.all([
  		new Promise(resolve => setTimeout(() => resolve(1), 3000)),
  		new Promise(resolve => setTimeout(() => resolve(2), 2000)),
  		new Promise(resolve => setTimeout(() => resolve(3), 1000)),
  	]);

  	console.log(res); // [1,2,3]
  }

  foo(); // ì•½ 3ì´ˆ ì†Œìš”í•¨

  async function foo(){
  	const res = await Promise.all([
  		const a = await new Promise(resolve => setTimeout(() => resolve(1), 3000)),
  		// ë‘ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„  ì²« ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ê²°ê³¼ê°€ í•„ìš”í•¨
  		const b = await new Promise(resolve => setTimeout(() => resolve(2), 2000)),
  		// ì„¸ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ì„  ë‘ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ê²°ê³¼ê°€ í•„ìš”í•¨
  		const c = await new Promise(resolve => setTimeout(() => resolve(3), 1000)),
  	]);

  	console.log([a,b,c]); // [1,2,3]
  }

  // await í‚¤ì›Œë“œëŠ” ì•ì„  await í‚¤ì›Œë“œê°€ ë¶™ì€ ë¹„ë™ê¸°ë¥¼ ì²˜ë¦¬í•œ í›„ì— ì²˜ë¦¬ê°€ ë¨(ìˆœì„œë¥¼ ë³´ì¥í•¨)
  foo(); // ì•½ 6ì´ˆ ì†Œìš”í•¨
  ```
- **ì—ëŸ¬ì²˜ë¦¬**
  - ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì™€ëŠ” ë‹¬ë¦¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— `tryâ€¦catch` ë¬¸ ì‚¬ìš© ê°€ëŠ¥
  ```jsx
  const foo = async () => {
    try {
      const res = await fetch(url);
      const data = await res.json();
      console.log(data);
    } catch (err) {
      console.error(err);
    }
  };

  foo();
  ```

### ğŸ“šÂ REFERENCE

- ìë°”ìŠ¤í¬ë¦½íŠ¸ DEEP DIVE 42ì¥ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°
- ìë°”ìŠ¤í¬ë¦½íŠ¸ DEEP DIVE 45ì¥ Promise
- ìë°”ìŠ¤í¬ë¦½íŠ¸ DEEP DIVE 46ì¥ async/await
- https://hun-dev.tistory.com/29
